ALTER TABLE	codes ADD COLUMN license VARCHAR(100);

UPDATE codes SET license = 'Health' WHERE code IN ( 'PXO0SMVF80L70PUS', 'T5VZ3QYE4QPM9P5G', 'GQE8QVTMT7GDK20S', 'KNJZ1XNIYRALTMLH', 'UQ29HG3A7A2NSOVH', 'KFVRQ3UPCCYLP6NX', 'C3L6G4IEUB63K4P1', 'YZQFUPTBCHPILS13', 'UPEPI88ULNDR8N12', 'AW06SZRC8R8YSOZ7', 'XRAIQK7W9N2IJEL7', 'SUO9JI3F7OWWWFLQ', '1LE1N8LHMRS7KBF2', 'J0GDTDEU2HZ2O7UY', '7NKCC921HK24Y9H6', 'GDHPH0K74QXM4JAE', '89ABYV7WKJ6BG3YJ', 'C7HONPUR8BTP5EQ8', '0WLKLS5T86VY37M8', '3CAS6EBFRKSX74I1', 'HZFE066S0KMT9QU7', 'Y63H80JWD8E67VOX', '1Q50GD7IE9RPK9GG', 'IX3AN0ECA91C7OOC', 'BF3FZ8VM2T7EZPCT', 'P2XJ80BHSM3M06VH', 'YH28ZMYQA55CR1LA', 'C7V94X31N90U5Y8F', 'HIKJ180WEB5TVO6Z', 'N74R5GLZNV4UYBK1', 'FNPK1J5HIQ86X2UM', 'WOXALVW7ZCV1UUN6', 'FJK5FTGZRF6Y7DFR', 'RMEHPKPQ6I74XWHB', '7OC8X51GO0FGXH2W', '61R8WW7BCPUDCZ6N', 'ID5ERKYJLAD9U4L4', 'NWRL7QP6T7GM0BU4', 'GOIK5R899UBPNZFM', 'YNEK4LKHONERO0DB', '0BHG4UUXHOVVYYT4', 'YZZI8ELWB8SZJ9ZI', 'L46DMTUMO0C2931U', 'GLMQSOPKZR57CG2L', '819ED6Y0HF67SD55', '20NWVTNU1ZTH56NI', '5VVDD425HJAN03T8', 'E2C38GJ884K25ZL0', 'YEV1PH80K9Z0ONLW', 'I3701AXVN19R8DBS', '0LTHZJ11O33PDSER', 'RTLGAMEGV0DOK1VK', 'OI9CNOQ4YLT4O0M8', 'GSEJ9YTW9DUT61L3', 'UHCFLFWBTTLI0BH8', '9POVPIWQ73PV33AK', 'MBGJNLT1335VMCY6', '5RUQ6OK1G7V6EBXD', 'C46IL3G2PI6XBLWG' );

UPDATE codes SET license = 'Pets' WHERE code IN ( 'UR4OGPX6I2WYRGKY', '6M66GUU7YFOJM0B9', 'GULN7510NXW0V3BO', '94J4EY40H3G7W6E2', 'A9MKK9NJO01DK5HB', 'U6638SSED72RFXK2', 'LK0M68QGSZ7VRGRT', 'JI1C2MKBV045JHYI', '8UDQFTASOT0NI5VV', 'DYZBBTXSZBLFY68O', 'XBYUXDC85ATAF2YB', 'AME3Y6OJWKYCRMLA', 'UMJ28TJRYGTVF46C', '91UFHWD2BK9VW8U9', '4BU6D194TEWJ9GXG', 'UTLTYOL6H27VTCGL', 'BKH1V1BY1OZWYNHF', 'WEGJIA12J6SI0FPL', 'CQUGFATBANZE50JJ', 'AVVO1DC11XSZDPE7', 'M882V0511AF8U1ZB', '3QG0HE3L1F1GN01X', 'SKIYJD8J6PN8Z5F8', 'UW4CAI0I9SRE2BC6', 'Q2TURSUEWTJ5TZYM', 'UEB4J9NIZUNKKXTP', '9CEA4UYWRT1FK4AR', '2Z3X6HGSW7SJO64S', '7X1P202UWQ61T5DI', 'XO85F0UDX7NHO7O8', 'BVYHCRBCWXV0X07I', '4WAJYQPKQDZRZXRP', 'ZR0VWVZ7DOV071TC' );

UPDATE codes SET license = 'Enterprise' WHERE code IN ( 'VW387H6DXBON4O4F', '639GI2UGGJKYXMOX', '3BVMB7Z9ZVJMD3ZL', '6LSEBCW5TNJSBO0X', 'DSHN9388U9TDHT46', 'OLRY854EUL0XEHCX', 'XUIBGR1PMWEZ4GHV', 'ZGCMJLVK8F69BWGQ', 'TBQKZ2FZRW6W77L2', 'GQB2OWV4W2TXCYXO', 'NUFPZVO1GZFFW6O7', 'PYDR5M1YGF5V804X', 'JDUTIDY9830FQDUM', 'HOW9GHPL4HBA8CB3', 'C9WB1OJG465ZXXD1', 'I38A2RQLVLKAKCUC', '3EPKF6F0ZMIWUPEV', 'KI62RR139Y0YHVNA', '520R31U8HDOP7T1P', 'RP78CPFRTTVHNMMO', 'OQAF8MHMXI51JKMA', 'TH9DQXS0JL6M89A9', '0MWO833DXHR1FUFM', '4VBQJ86DR0C9F9BI', '1L8V3QVDFNDD9DUH', 'YJVZPW3V1SB1GBG8', 'OWTWM04X01UUNOCT', '8YLN9U1J8CFBXC6H', 'FN2IUUOZPK5SQBGD', 'GNOS12Q0VFH35Q5G', 'GIX33JPXOJ1ZD1CN', '9TI6E0SQ2NNCXGWI', 'BBRGSTAMU4CPIXS8', '1SX4KXJD76ZIV537', '74VCZ223ZSPJ52ZZ', '64M3IUF0PJMZ8BF2', 'RTD7O7HS1OOTK1IE', 'I94RUBCYJ2H6ZQMB', 'EE7QU706SJWZK3RF', 'KWGSBPL9KTDPLMUX', '5AZ65MRJUMNJ4VHO', '8YU3AIP94AE674AY', 'IYARA4R4S248ZC4D', 'TEGHK8EYTYDYUDI0' );

UPDATE codes SET license = 'Health' WHERE code IN ('8WCBMB6TPD0DOH7O', 'NE2P33A98VGJP3H4', 'O935CL4U6J13AR2L', 'H3HZ35K5WBF13SRA');

ALTER TABLE	codes ALTER COLUMN license SET NOT NULL;

UPDATE codes SET license = 'Pets' WHERE code IN ( 'C46IL3G2PI6XBLWG');
UPDATE pacientes SET code = 'Pets' WHERE id = 9;

-- -------------------------------- --------------------------------------------------------
CREATE TABLE departments ( id BIGSERIAL PRIMARY KEY NOT NULL, name VARCHAR(255) NOT NULL, code integer NOT NULL );
DROP TABLE IF EXISTS townships;
CREATE TABLE townships ( id BIGSERIAL PRIMARY KEY, department_id BIGINT NOT NULL, code VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, FOREIGN KEY (department_id) REFERENCES departments(id) ON UPDATE CASCADE ON DELETE CASCADE );

-- Users Table DML
ALTER TABLE	users ADD COLUMN address VARCHAR(100) DEFAULT ' ';
ALTER TABLE	users ALTER COLUMN address SET NOT NULL;


ALTER TABLE users ADD COLUMN city_id INT DEFAULT 215;
ALTER TABLE	users ALTER COLUMN city_id SET NOT NULL;


ALTER TABLE	users ADD CONSTRAINT fk_users_city FOREIGN KEY (city_id) REFERENCES townships(id) ON UPDATE CASCADE ON DELETE CASCADE;

-- Pets Table
ALTER TABLE	mascotas ADD COLUMN peso VARCHAR(255) DEFAULT ' ';
ALTER TABLE	mascotas ALTER COLUMN peso SET NOT NULL;


ALTER TABLE mascotas ADD COLUMN sexo VARCHAR(255) DEFAULT ' ';
ALTER TABLE mascotas ALTER COLUMN sexo SET NOT NULL;


ALTER TABLE  mascotas ADD COLUMN fechaNacimiento DATE DEFAULT '9999/12/31';
ALTER TABLE	 mascotas ALTER COLUMN fechaNacimiento SET NOT NULL;


ALTER TABLE	 mascotas ADD COLUMN seguro VARCHAR(255) DEFAULT ' ';
ALTER TABLE	 mascotas ALTER COLUMN seguro SET NOT NULL;


ALTER TABLE	 mascotas ADD COLUMN estatura VARCHAR(255) DEFAULT ' ';
ALTER TABLE	 mascotas ALTER COLUMN estatura SET NOT NULL;


ALTER TABLE  mascotas ADD COLUMN temperamento VARCHAR(255) DEFAULT ' ';
ALTER TABLE	 mascotas ALTER COLUMN temperamento SET NOT NULL;


ALTER TABLE  mascotas ADD COLUMN nochip VARCHAR(255) DEFAULT ' ';
ALTER TABLE	 mascotas ALTER COLUMN nochip SET NOT NULL;


ALTER TABLE  mascotas ADD COLUMN photoUrl VARCHAR(255) DEFAULT ' ';
ALTER TABLE	 mascotas ALTER COLUMN photoUrl SET NOT NULL;


ALTER TABLE	 mascotas ADD COLUMN photoName VARCHAR(255) DEFAULT ' ';
ALTER TABLE	 mascotas ALTER COLUMN photoName SET NOT NULL;


-- Paciente Table
ALTER TABLE	pacientes ADD COLUMN enterprise VARCHAR(255) DEFAULT ' ';

ALTER TABLE	pacientes ADD COLUMN nit VARCHAR(255) DEFAULT ' ';




-- 

ALTER TABLE	codes ADD COLUMN agreement VARCHAR(50);
ALTER TABLE	codes ALTER COLUMN agreement SET NULL;

ALTER TABLE	 mascotas ADD COLUMN color VARCHAR(20) DEFAULT ' ';
ALTER TABLE	 mascotas ALTER COLUMN color SET NOT NULL;

DROP TABLE IF EXISTS petsVaccine;
CREATE TABLE petsVaccine (
	id BIGSERIAL PRIMARY KEY,
	pet_id BIGINT NOT NULL,
    name VARCHAR(100) NOT NULL,
    laboratory VARCHAR(100) NOT NULL,
    startDate DATE NOT NULL,
    nextDate DATE NULL,
	dose VARCHAR(50) NOT NULL,
	photoUrl VARCHAR(200) NULL,
	photoName VARCHAR(500) NULL,
	FOREIGN KEY (pet_id) REFERENCES mascotas(id) ON UPDATE CASCADE ON DELETE CASCADE
);


DROP TABLE IF EXISTS petsDiseaseCondition;
CREATE TABLE petsDiseaseCondition (
    id BIGSERIAL PRIMARY KEY,
	pet_id BIGINT NOT NULL,
    typeDiseaseCondition VARCHAR(100) NOT NULL,
	name VARCHAR(100) NOT NULL,
    diagnosticDate DATE NOT NULL,
	status VARCHAR(100) NOT NULL,
	description VARCHAR(200) NOT NULL,
	FOREIGN KEY (pet_id) REFERENCES mascotas(id) ON UPDATE CASCADE ON DELETE CASCADE
);

DROP TABLE IF EXISTS petsTreatment;
CREATE TABLE petsTreatment (
    id BIGSERIAL PRIMARY KEY,
	pet_id BIGINT NOT NULL,
    typeTreatment VARCHAR(100) NOT NULL,
    name VARCHAR(100) NOT NULL,
    status VARCHAR(100) NOT NULL,
	startDate DATE NOT NULL,
    endDate DATE NOT NULL,
    frequency VARCHAR(100) NOT NULL,
	FOREIGN KEY (pet_id) REFERENCES mascotas(id) ON UPDATE CASCADE ON DELETE CASCADE
);


DROP TABLE IF EXISTS petsVeterinarian;
CREATE TABLE petsVeterinarian (
    id BIGSERIAL PRIMARY KEY,
	pet_id BIGINT NOT NULL,
    fullName VARCHAR(100) NOT NULL,
    idType VARCHAR(100) NOT NULL,
    idNumber VARCHAR(100) NOT NULL,
    phone VARCHAR(100) NOT NULL,
	city_id BIGINT NOT NULL,
    address VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
	FOREIGN KEY (pet_id) REFERENCES mascotas(id) ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY (city_id) REFERENCES townships(id) ON UPDATE CASCADE ON DELETE CASCADE
);


UPDATE codes SET agreement = 'IKE' WHERE code IN ('UR4OGPX6I2WYRGKY');



ALTER TABLE	 mascotas ADD COLUMN petid VARCHAR(50) DEFAULT '';
UPDATE mascotas SET petid = CONCAT(id, LPAD(EXTRACT(DAY FROM CURRENT_DATE)::text, 2, '0'), LPAD(EXTRACT(MONTH FROM CURRENT_DATE)::text, 2, '0'), EXTRACT(YEAR FROM CURRENT_DATE)::text);

ALTER TABLE	 mascotas ALTER COLUMN petid SET NOT NULL;

ALTER TABLE mascotas ALTER COLUMN seguro DROP NOT NULL;
ALTER TABLE mascotas ALTER COLUMN raza DROP NOT NULL;

ALTER TABLE	 mascotas ALTER COLUMN raza SET NULL;




--------------------------------------------------------------
ALTER TABLE	 petsVeterinarian ADD COLUMN calendy VARCHAR(10) DEFAULT '';

CREATE TABLE veterinarians (
    id BIGSERIAL PRIMARY KEY,
    fullName VARCHAR(100) NOT NULL,
    idType VARCHAR(100) NOT NULL,
    idNumber VARCHAR(100) NOT NULL,
    id_veterinarian VARCHAR(20) NULL,
    occupation VARCHAR(20) NULL,
    phone VARCHAR(100) NOT NULL,
	city_id BIGINT NOT NULL,
    address VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
    calendy VARCHAR(100) NOT NULL,
    price VARCHAR(10) NOT NULL,
	FOREIGN KEY (city_id) REFERENCES townships(id) ON UPDATE CASCADE ON DELETE CASCADE
);


UPDATE townships SET name = 'Bogotá' WHERE id = 149;
UPDATE departments SET name = 'Bogotá' WHERE id = 3;
UPDATE petsVeterinarian SET calendy = null WHERE id = 9;
UPDATE users SET email = 'lvinazco@cuidame.tech' WHERE id = 8;


INSERT INTO veterinarians (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Diana Patricia Alba', 'Cédula Ciudadana', '33367020', '', 'Médico Veterinario', '3008635755', 215, 'Carrera 9 # 43 A 39', 'dalba359@hotmail.com', 'https://calendly.com/cuidame/15min', '35.000'), ('Juan Ricardo Patiño', 'Cédula Ciudadana', '10183731', '19637', 'Médico Veterinario', '316 2837365', 149, 'Carrera 90 A No 8 A 68', 'JuanRicardoPatiño@hotmail.com', 'https://calendly.com/juanrivet/30min?back=1&month=2023-11', '60.000');


ALTER TABLE	 petsVeterinarian ALTER COLUMN calendy SET NOT NULL;




('Animalia', 'Número de Identificación Tributaria', '1234567890', '3194843592', 215, 'Muiscas', 'animalia.tunja@gmail.com', 'https://calendly.com/animalia-tunja/agenda-veterinaria'),
('Terra Pet', 'Número de Identificación Tributaria', '1234567890', '3194843592', 215, 'Las Nieves', 'anthony.lopez@usantoto.edu.co', 'https://calendly.com/deevann/agenda-veterinaria');

---------------------------------------------------------------------------------------------------------------
-- 20/11/2023

ALTER TABLE users ALTER COLUMN code DROP NOT NULL;

---------------------------------------------------------------------------------------------------------------
-- 30/11/2023


CREATE TABLE bathroomHairdresser (
    id BIGSERIAL PRIMARY KEY,
    fullName VARCHAR(100) NOT NULL,
    idType VARCHAR(100) NOT NULL,
    idNumber VARCHAR(100) NOT NULL,
    id_veterinarian VARCHAR(20) NULL,
    occupation VARCHAR(20) NULL,
    phone VARCHAR(100) NOT NULL,
	city_id BIGINT NOT NULL,
    address VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
    calendy VARCHAR(100) NOT NULL,
    price VARCHAR(10) NOT NULL,
	FOREIGN KEY (city_id) REFERENCES townships(id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE hotelNursery (
    id BIGSERIAL PRIMARY KEY,
    fullName VARCHAR(100) NOT NULL,
    idType VARCHAR(100) NOT NULL,
    idNumber VARCHAR(100) NOT NULL,
    id_veterinarian VARCHAR(20) NULL,
    occupation VARCHAR(20) NULL,
    phone VARCHAR(100) NOT NULL,
	city_id BIGINT NOT NULL,
    address VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
    calendy VARCHAR(100) NOT NULL,
    price VARCHAR(10) NOT NULL,
	FOREIGN KEY (city_id) REFERENCES townships(id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE wellnessSpa (
    id BIGSERIAL PRIMARY KEY,
    fullName VARCHAR(100) NOT NULL,
    idType VARCHAR(100) NOT NULL,
    idNumber VARCHAR(100) NOT NULL,
    id_veterinarian VARCHAR(20) NULL,
    occupation VARCHAR(20) NULL,
    phone VARCHAR(100) NOT NULL,
	city_id BIGINT NOT NULL,
    address VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL,
    calendy VARCHAR(100) NOT NULL,
    price VARCHAR(10) NOT NULL,
	FOREIGN KEY (city_id) REFERENCES townships(id) ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO bathroomHairdresser (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Diana Patricia Alba', 'Cédula Ciudadana', '33367020', '', 'Médico Veterinario', '3008635755', 215, 'Carrera 9 # 43 A 39', 'dalba359@hotmail.com', 'https://calendly.com/cuidame/15min', '35.000'), ('Juan Ricardo Patiño', 'Cédula Ciudadana', '10183731', '19637', 'Médico Veterinario', '316 2837365', 149, 'Carrera 90 A No 8 A 68', 'JuanRicardoPatiño@hotmail.com', 'https://calendly.com/juanrivet/30min?back=1&month=2023-11', '60.000');
INSERT INTO hotelNursery (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Diana Patricia Alba', 'Cédula Ciudadana', '33367020', '', 'Médico Veterinario', '3008635755', 215, 'Carrera 9 # 43 A 39', 'dalba359@hotmail.com', 'https://calendly.com/cuidame/15min', '35.000'), ('Juan Ricardo Patiño', 'Cédula Ciudadana', '10183731', '19637', 'Médico Veterinario', '316 2837365', 149, 'Carrera 90 A No 8 A 68', 'JuanRicardoPatiño@hotmail.com', 'https://calendly.com/juanrivet/30min?back=1&month=2023-11', '60.000');
INSERT INTO wellnessSpa (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Diana Patricia Alba', 'Cédula Ciudadana', '33367020', '', 'Médico Veterinario', '3008635755', 215, 'Carrera 9 # 43 A 39', 'dalba359@hotmail.com', 'https://calendly.com/cuidame/15min', '35.000'), ('Juan Ricardo Patiño', 'Cédula Ciudadana', '10183731', '19637', 'Médico Veterinario', '316 2837365', 149, 'Carrera 90 A No 8 A 68', 'JuanRicardoPatiño@hotmail.com', 'https://calendly.com/juanrivet/30min?back=1&month=2023-11', '60.000');


UPDATE townships SET name = 'Barranquilla' WHERE id = 126;
UPDATE townships SET name = 'Puerto Nare' WHERE id = 81;
UPDATE townships SET name = 'Cartagena' WHERE id = 170;
UPDATE townships SET name = 'Tiquisio' WHERE id = 210;
UPDATE townships SET name = 'Canton de San Pablo' WHERE id = 598;
UPDATE townships SET name = 'Litoral del Bajo San Juan' WHERE id = 601;
UPDATE townships SET name = 'Santa Marta' WHERE id = 667;
UPDATE townships SET name = 'Los Andes' WHERE id = 757;
UPDATE townships SET name = 'Mallama' WHERE id = 759;
UPDATE townships SET name = 'Olaya Herrera' WHERE id = 761;
UPDATE townships SET name = 'Francisco Pizarro' WHERE id = 763;
UPDATE townships SET name = 'Santa Barbara' WHERE id = 777;
UPDATE townships SET name = 'Santa Cruz' WHERE id = 778;

UPDATE townships SET name = INITCAP(name);


SELECT c.* FROM codes c LEFT JOIN mascotas m ON c.hashcode = m.hashcode WHERE m.hashcode IS NULL and c.license = 'Pets' LIMIT 2;

UPDATE codes SET agreement = 'SeguroPeludo' WHERE id = 820;
UPDATE codes SET agreement = 'SeguroPeludo' WHERE id = 821;
UPDATE codes SET agreement = 'SeguroPeludo' WHERE id = 216;
UPDATE users SET hashcode = 'RERSREZaNTlDWFZJSU5DNw' WHERE id = 45;


SELECT c.hashcode FROM codes c LEFT JOIN mascotas m ON c.hashcode = m.hashcode WHERE m.hashcode IS NULL and c.license = 'Pets' and c.agreement IS NULL LIMIT 1;

-- Quitar a Juan Ricardo Patiño de las demas excepto veterinarians

-- eliminar diana alba baño y veterinarian
--espa 1 y guardería

INSERT INTO veterinarians (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('PetPlus', 'Número de Identificación Tributaria', '900045599', '', 'Médico Veterinario', '6017156389', 150, 'Calle 116 No 16 72', 'petplusconsultas@pet.com.co', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');
INSERT INTO bathroomHairdresser (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('PetPlus', 'Número de Identificación Tributaria', '900045599', '', 'Médico Veterinario', '6017156389', 150, 'Calle 116 No 16 72', 'petplusconsultas@pet.com.co', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');
INSERT INTO hotelNursery (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('PetPlus', 'Número de Identificación Tributaria', '900045599', '', 'Médico Veterinario', '6017156389', 150, 'Calle 116 No 16 72', 'petplusconsultas@pet.com.co', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');
INSERT INTO wellnessSpa (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('PetPlus', 'Número de Identificación Tributaria', '900045599', '', 'Médico Veterinario', '6017156389', 150, 'Calle 116 No 16 72', 'petplusconsultas@pet.com.co', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');

--veterinarians

INSERT INTO veterinarians (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Happy Pet', 'Número de Identificación Tributaria', '9007924352', '', 'Médico Veterinario', '3154866362', 150, 'Cl.42a Sur #80d–03', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000'), ('Kanicat', 'Número de Identificación Tributaria', '8311152325', '', 'Médico Veterinario', '6017443472', 150, 'Ak.9 #117a-77', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000'), ('Inv Agropecuarias Animor Sas', 'Número de Identificación Tributaria', '9016697649', '', 'Médico Veterinario', '3022502415', 150, 'Cll.149 #45-24', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000'), ('Puppies Spa', 'Número de Identificación Tributaria', '9009358042', '', 'Médico Veterinario', '6012193099', 150, 'Crr.15A #122-26 Loc 2', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');
-------------------------------------------------------------------------------------------------------------------

-- spa
2

INSERT INTO wellnessSpa (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Puppies Spa', 'Número de Identificación Tributaria', '9009358042', '', 'Médico Veterinario', '6012193099', 150, 'Crr.15A #122-26 Loc 2', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');
--bath
2
INSERT INTO bathroomHairdresser (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Puppies Spa', 'Número de Identificación Tributaria', '9009358042', '', 'Médico Veterinario', '6012193099', 150, 'Crr.15A #122-26 Loc 2', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000'), ('Animals', 'Número de Identificación Tributaria', '8300244290', '', 'Médico Veterinario', '3124526775', 150, 'Av.19 #117-30', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');


-- hotel y guard
2
INSERT hotelNursery (fullname, idtype, idnumber, id_veterinarian, occupation, phone, city_id, address, email, calendy, price) VALUES ('Dog Garden', 'Número de Identificación Tributaria', '9015419329', '', 'Médico Veterinario', '3175016559', 150, 'Calle 98 #7a-20', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000'), ('Más que guau club', 'Número de Identificación Tributaria', '9015419328', '', 'Médico Veterinario', '3118510683', 150, 'Km-7 Via LaCalera', 'noemail', 'https://calendly.com/deevann/agenda-veterinaria', '90.000');





-- 23/10/2024 ---------------------------------------------------------------------



ALTER TABLE pacientes ADD COLUMN photourl VARCHAR(255) DEFAULT '';

UPDATE pacientes SET a_cargo_id = 23 WHERE id IN (9);
UPDATE pacientes SET a_cargo_id = 22 WHERE id IN (31);
UPDATE codes SET agreement = 'H&H' WHERE code IN ();
UPDATE codes SET agreement = 'H&H' WHERE code IN ('PXO0SMVF80L70PUS', 'T5VZ3QYE4QPM9P5G', 'GQE8QVTMT7GDK20S', 'KNJZ1XNIYRALTMLH', 'UQ29HG3A7A2NSOVH', 'KFVRQ3UPCCYLP6NX', 'C3L6G4IEUB63K4P1', 'YZQFUPTBCHPILS13', 'UPEPI88ULNDR8N12', 'AW06SZRC8R8YSOZ7', 'SUO9JI3F7OWWWFLQ', '1LE1N8LHMRS7KBF2', '7NKCC921HK24Y9H6', 'C7HONPUR8BTP5EQ8', '0WLKLS5T86VY37M8', 'Y63H80JWD8E67VOX', 'P2XJ80BHSM3M06VH', 'YH28ZMYQA55CR1LA', 'C7V94X31N90U5Y8F', 'HIKJ180WEB5TVO6Z', 'N74R5GLZNV4UYBK1', 'FNPK1J5HIQ86X2UM', 'FJK5FTGZRF6Y7DFR', 'RMEHPKPQ6I74XWHB', 'NWRL7QP6T7GM0BU4', 'GOIK5R899UBPNZFM', '0BHG4UUXHOVVYYT4', 'YZZI8ELWB8SZJ9ZI', '819ED6Y0HF67SD55', '20NWVTNU1ZTH56NI', 'YEV1PH80K9Z0ONLW', 'RTLGAMEGV0DOK1VK', 'GSEJ9YTW9DUT61L3', 'UHCFLFWBTTLI0BH8', '9POVPIWQ73PV33AK');
UPDATE codes SET agreement = 'BikePlanet' WHERE code IN ('XRAIQK7W9N2IJEL7', 'J0GDTDEU2HZ2O7UY', '3CAS6EBFRKSX74I1', 'HZFE066S0KMT9QU7', '1Q50GD7IE9RPK9GG', 'IX3AN0ECA91C7OOC', 'BF3FZ8VM2T7EZPCT', 'WOXALVW7ZCV1UUN6', '7OC8X51GO0FGXH2W', '61R8WW7BCPUDCZ6N', 'ID5ERKYJLAD9U4L4', 'YNEK4LKHONERO0DB', 'L46DMTUMO0C2931U', 'GLMQSOPKZR57CG2L', '5VVDD425HJAN03T8', 'E2C38GJ884K25ZL0');
UPDATE codes SET agreement = 'HospiFarma' WHERE code IN ('GDHPH0K74QXM4JAE', '89ABYV7WKJ6BG3YJ', '0LTHZJ11O33PDSER', 'OI9CNOQ4YLT4O0M8');

h&h

UPDATE users set verificado = 't' WHERE email = 'leovainaz@yahoo.es';

bikeplanet




Hospifarma

SELECT c.hashcode FROM codes c LEFT JOIN mascotas m ON c.hashcode = m.hashcode WHERE m.hashcode IS NULL and c.license = 'Pets' and c.agreement = 'IKE';







-- ////////////////// 19/03/2024

ALTER TABLE codes ADD COLUMN status VARCHAR(20) DEFAULT 'inactive';
UPDATE codes SET status = 'active' WHERE hashcode IN (SELECT hashcode FROM mascotas);

UPDATE codes SET status = 'active' WHERE hashcode IN ('RzRNM0RMVk84SE40MVI2NQ', 'VEIxU0NXTklDM1dSRkVJMw', 'RE1UTkc1SDMwRFlMSE4wVA', 'UTROVkczMERDUTU3QU5DTg', 'TjNPR0I0U0JQSUFOTlNQQg', 'STNFUFNTVUkzWjFIMllNNw');

-- -------------------------------------------------------- 03/04/2024 Castrated column added

ALTER TABLE mascotas ADD COLUMN castrated BOOLEAN;


------------------------------------------------------------ Providers

CREATE TABLE IF NOT EXISTS services (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL
);

INSERT INTO services (name) VALUES 
('Consulta de Médico Veterinario Virtual'),
('Consulta de Médico Veterinario Domiciliario'),
('Vacunación y Desparazitación'),
('Asesoria de Viajes Internacionales'),
('Consulta de Médico Veterinario Consultorio'),
('Procedimientos Quirúrgicos'),
('Laboratorio'),
('Esterilización'),
('Hospitalización'),
('Medicamentos y/o farmacia'),
('Servicios funebres (Incluido traslado)');


CREATE TABLE IF NOT EXISTS provider_services (
    id SERIAL PRIMARY KEY,
    provider_id INT NOT NULL,
    service_id INT NOT NULL,
    status BOOLEAN NOT NULL,
    FOREIGN KEY (provider_id) REFERENCES provider(id) ON UPDATE CASCADE ON DELETE CASCADE,
    FOREIGN KEY (service_id) REFERENCES services(id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS documents (
    id SERIAL PRIMARY KEY,
    provider_id INT NOT NULL,
    pubName VARCHAR(255) NOT NULL,
    privName VARCHAR(255) NOT NULL,
    file_bs64 TEXT NOT NULL,
    FOREIGN KEY (provider_id) REFERENCES provider(id) ON UPDATE CASCADE ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS establishment (
    id SERIAL PRIMARY KEY,
    provider_id INT NOT NULL,
    own BOOLEAN NOT NULL,
    full_name VARCHAR(255) NOT NULL,
    FOREIGN KEY (provider_id) REFERENCES provider(id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS legal_representative (
    id SERIAL PRIMARY KEY,
    provider_id INT NOT NULL,
    identification_type VARCHAR(255) NOT NULL,
    identification_number VARCHAR(255) NOT NULL,
    full_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    FOREIGN KEY (provider_id) REFERENCES provider(id) ON UPDATE CASCADE ON DELETE CASCADE
);



-------------------------------------------------------------


CREATE TABLE IF NOT EXISTS clinics_services (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL
);

CREATE TABLE veterinary_clinics (
    id SERIAL PRIMARY KEY,
    business_name VARCHAR(255) NOT NULL,
    entity_type VARCHAR(100) NOT NULL,
    priority VARCHAR(100),
    strategy VARCHAR(255),
    name_1 VARCHAR(100),
    name_2 VARCHAR(100),
    last_name_1 VARCHAR(100),
    last_name_2 VARCHAR(100),
    registration_date DATE,
    renewal_date DATE,
    vicinity VARCHAR(255),
    township INT REFERENCES townships(id),
    phone_1 VARCHAR(15),
    phone_2 VARCHAR(15),
    email VARCHAR(255),
    ciiu_1 VARCHAR(500),
    ciiu_2 VARCHAR(500),
    ciiu_3 VARCHAR(500),
    ciiu_4 VARCHAR(500),
    activity VARCHAR(500),
    company_size VARCHAR(500),
    owner_name VARCHAR(500),
    legal_representative_name VARCHAR(500)
);

CREATE TABLE IF NOT EXISTS clinics_services_breakdown (
    id SERIAL PRIMARY KEY,
    clinic_service_id INT REFERENCES clinics_services(id),
    veterinary_clinic_id INT REFERENCES veterinary_clinics(id),
    status BOOLEAN NOT NULL
);


INSERT INTO clinics_services (name) VALUES
('Domicilio'),
('Virtual'),
('Domicilio'),
('Esterilización'),
('Otros Procedimientos');


-- Otros Procedimientos
INSERT INTO clinics_services_breakdown (clinic_service_id, veterinary_clinic_id, status) VALUES (5, 4, true), (5, 5, true), (5, 7, true), (5, 8, true), (5, 10, true), (5, 13, true), (5, 14, true), (5, 15, true), (5, 20, true), (5, 22, true), (5, 23, true), (5, 27, true), (5, 29, true), (5, 30, true), (5, 32, true), (5, 34, true), (5, 35, true);


-- Esterilización
INSERT INTO clinics_services_breakdown (clinic_service_id, veterinary_clinic_id, status) VALUES (4, 4, true), (4, 5, true), (4, 7, true), (4, 8, true), (4, 10, true), (4, 13, true), (4, 14, true), (4, 15, true), (4, 20, true), (4, 22, true), (4, 23, true), (4, 27, true), (4, 29, true), (4, 30, true), (4, 32, true), (4, 34, true), (4, 35, true);


-- Domicilio
INSERT INTO clinics_services_breakdown (clinic_service_id, veterinary_clinic_id, status) VALUES (3, 35, true), (3, 8, true);

-- Virtual
INSERT INTO clinics_services_breakdown (clinic_service_id, veterinary_clinic_id, status) VALUES (2, 11, true), (2, 16, true), (2, 17, true), (2, 19, true), (2, 25, true), (2, 26, true);


-- consultorio

INSERT INTO clinics_services_breakdown (clinic_service_id, veterinary_clinic_id, status) VALUES (1, 1, true), (1, 2, true), (1, 3, true), (1, 4, true), (1, 5, true), (1, 6, true), (1, 7, true), (1, 8, true), (1, 9, true), (1, 10, true), (1, 11, true), (1, 12, true), (1, 13, true), (1, 14, true), (1, 15, true), (1, 16, true), (1, 17, true), (1, 18, true), (1, 19, true), (1, 20, true), (1, 21, true), (1, 22, true), (1, 23, true), (1, 24, true), (1, 25, true), (1, 26, true), (1, 27, true), (1, 28, true), (1, 29, true), (1, 30, true), (1, 31, true), (1, 32, true), (1, 33, true), (1, 34, true), (1, 35, true);


ALTER SEQUENCE veterinary_clinics RESTART WITH 1;



INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES ('ZOOVIDA S.A.S','EMPRESA','Baja','PRESENCIAL',null,null,null,null,'2022/07/14','2024/04/02','CARRERA 9B #60B-21',215,'3103410639','3212160814','zoovida21@gmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados','A0162 ** Actividades de apoyo a la ganaderia',null,null,'MICRO EMPRESA',null,'BORDA GUTIERREZ ITALO JULIO');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('SOLVET','EMPRESA','Baja',null,'JENNY','SOLEDAD','BERMUDEZ','CASTRO',null,null,'CARRERA 5 #41-75 CC SANTA INES LOCAL 103',215,'3042467618','7423827',null,'M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS. COMERCIO AL POR MENOR DE PRODUCTOS FARMACEUTICOS Y MEDICINALES  COSMETICOS Y ARTICULOS DE TOCADOR EN ESTABLECIMIENTOS ESPECIALIZADOS.',null,'BERMUDEZ CASTRO JENNY SOLEDAD',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('CENTRO DE MEDICINA VETERINARIA','EMPRESA','Alta',null,'CARLOS','EDUARDO','URREGO','ZAPATA',null,null,'CALLE 41 #5-21',215,'3125562150','3216309269','centrodemedicinaveterinaria@hotmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados',null,'ACTIVIDADES VETERINARIAS','MICRO EMPRESA','URREGO ZAPATA CARLOS EDUARDO',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('UNIDAD MOVIL VETERINARIA PATAS ARRIBA S.A.S.','EMPRESA','Alta',null,'DANIEL','HUMBERTO','MARTINEZ','ROLDAN','2019/01/25','2024/03/27','CARRERA 4A #41A-67',215,' ','3118113087','umvpatasarriba@gmail.com','M7500 ** Actividades veterinarias','Q8621 ** Actividades de la practica medica  sin internacion','G4653 ** Comercio al por mayor de maquinaria y equipo agropecuarios','G4645 ** Comercio al por mayor de productos farmaceuticos  medicinales  cosmeticos y de tocador',null,'MICRO EMPRESA',null,'MARTINEZ ROLDAN DANIEL HUMBERTO');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('PETSGLAM','EMPRESA','Baja',null,null,null,null,null,'2024/02/05','2024/02/05','CARRERA 4 #41A-75',215,'3214694477',null,'daniel97moreno.dm@gmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS  COMERCIO AL POR MENOR DE OTROS ARTICULOS DOMESTICOS EN ESTABLECIMIENTOS ESPECIALIZADOS',null,'JIMENEZ HURTADO NATALIA LISSETH',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('PET CENTER TUNJA','EMPRESA','Alta',null,null,null,null,'c/w','2008/08/01','2024/03/27','AVENIDA NORTE #45-24',215,'7445651','3143352106','petcentertunja@gmail.com','M7500 ** Actividades veterinarias',null,null,null,'ACTIVIDADES VETERINARIAS',null,'MASCOTAS DISTRIBUCIONES BOYACA  SAS',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('MEDICVET TUNJA','EMPRESA','Media',null,'EDWIN ',null,'CHACON ',null,'2022/02/10','2024/03/22','DIAGONAL 38 #18-87 CONJUNTO RESIDENCIAL MARIA HELENA 1 LOCAL 2 lo',215,'3115588883',null,'medicvetunja@gmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'SERVICIOS DE MEDICINA ANIMAL VENTA DE INSUMOS Y MEDICAMENTOS',null,'CHACON PESCA EDWIN ROLANDO',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('ZP3 REPRODUCCION ANIMAL SAS','EMPRESA','Baja',null,null,null,null,null,'2024/02/02','2024/02/02','DIAGONAL 38 #12-132',215,'3125629093','3165230134','zp3asesoria@gmail.com','M7500 ** Actividades veterinarias','M7210 ** Investigaciones y desarrollo experimental en el campo de las ciencias naturales y la ingenieria','M7490 ** Otras actividades profesionales  cientificas y tecnicas n.c.p.','P8559 ** Otros tipos de educacion n.c.p.',null,'MICRO EMPRESA',null,'DUBEIBE MARIN DIEGO FERNANDO');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('CENTRO VETERINARIO CAT`S DOG`S','EMPRESA','Media','PRESENCIAL','ANGELA','LISETH','ALVAREZ','NI',null,null,'CALLE 37A #5A-5',215,'3003749691','3163260395','"veterinariacatsdogstunja@gmail.com ancarol.26@hotmail.com"','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS COMERCIO AL POR MENOR DE PRODUCTOS FARMACEUTICOS Y MEDICINALES  COSMETICOS Y ARTICULOS DE TOCADOR EN ESTABLECIMIENTOS ESPECIALIZADOS','MICRO EMPRESA','ALVAREZ NI?O ANGELA LISETH',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('COY LOPEZ PEDRO LUIS','PERSONA','Baja',null,'PEDRO','LUIS','COY','LOPEZ','2016/05/23','2024/04/10','CARRERA 16 BIS NUMERO #35-23',215,'3102332436',null,'pedromvz@hotmail.com','M7500 ** Actividades veterinarias','E3900 ** Actividades de saneamiento ambiental y otros servicios de gestion de desechos','A0150 ** Explotacion mixta (agricola y pecuaria)',null,'SERVICIOS DE ACTIVIDADES VETERINARIAS  ACTIVIDADES DE SANEAMIENTO AMBIENTAL Y OTROS SERVICIOS DE GESTION DE DESEHOS  EXPLOTACION MIXTA (AGRICOLA Y PECUARIA)','MICRO EMPRESA',null,null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('REPROLLANO','EMPRESA','Baja',null,'GERARDO','ADOLFO','PARRA','HERNANDEZ','2017/10/19','2024/03/27','TRASVERSAL 11 #31A-12 INT 7',215,'3212866263',null,'reprollano@gmail.com','M7500 ** Actividades veterinarias','A0141 ** Cria de ganado bovino y bufalino',null,null,'SERVICIOS DE BIOTECNOLOGIA REPRODUCTIVA','MICRO EMPRESA','PARRA HERNANDEZ GERARDO ADOLFO',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('HELPET COLOMBIA HELPCOL S.A.S','EMPRESA','Baja',null,null,null,null,null,'2022/03/30','2024/03/27','AVENIDA COLON #26-33',215,'3133802948','3003542343','helpetcolombiasas@gmail.com','M7500 ** Actividades veterinarias','M7112 ** Actividades de ingenier a y otras actividades conexas de consultor a','F4290 ** Construccion de otras obras de ingenieria civil',null,'VENTA DE MEDICAMENTOS Y CONCENTRADOS','MICRO EMPRESA','HELPCOL S.A.S','VARGAS PINTO MARIA CALENDARIA');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('GATTOS','EMPRESA','Media',null,null,null,null,null,'2016/08/24','2024/03/29','CALLE 23 #13A-18',215,'3166415307','3115351549','gattospet@gmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados',null,null,'GATOS',null,'MASSEY MALAGON DELIA YULIANA',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('CLINICA VETERINARIA CENTRAL DE SERVICIOS VETERINARIOS','EMPRESA','Media',null,null,null,null,null,'2018/10/30','2024/03/08','CARRERA 2E #26-35',215,'3128138083',null,'juligam2210@hotmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados','G4620 ** Comercio al por mayor de materias primas agropecuarias  animales vivos','ACTIVIDADES VETERINARIAS COMERCIO AL POR MENOR DE PRODUCTOS FARMACEUTICOS Y MEDICINALES  COSMETICOS Y ARTICULOS DE TOCADOR EN ESTABLECIMIENTOS ESPECIALIZADOS COMERCIO AL POR MENOR DE OTROS ARTICULOS DOMESTICOS EN ESTABLECIMIENTOS ESPECIALIZADOS COMERCIO AL POR MAYOR DE MATERIAS PRIMAS AGROPECUARIAS ANIMALES VIVOS',null,'GAMBA GONZALEZ JULIANE BRIGGITE',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('TABBY CENTRO MEDICO VETERINARIO SAS','EMPRESA','Alta',null,null,null,null,null,'2024/02/08','2024/02/08','CARRERA 7 #21-103 LC 1',215,'3026890161',null,'tabby.centroveterinario.tunja@gmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'MICRO EMPRESA',null,'SANCHEZ LEAL ANA GERALDINE');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('GANAPROTECCION','EMPRESA','Baja',null,null,null,null,null,'2012/02/20','2024/03/31','CARRERA 13 #5-08 SUR',215,'3124822567',null,'ecoinsumos@gmail.com','M7500 ** Actividades veterinarias',null,null,null,'ACTIVIDADES VETERINARIAS',null,'ECOINSUMOS S.A.S',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('SILVA LOPEZ DIANA CAROLINA DEL PILAR','PERSONA','Baja',null,'DIANA','CAROLINA DEL PILAR','SILVA','LOPEZ','2018/08/03','2024/03/21','CALLE 21A #10-45',215,'3123252761',null,'carosamy2002@gmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,'COMERCIO AL POR MENOR DE OTROS ARTICULOS DOMESTICOS EN ESTABLECIMIENTOS ESPECIALIZADOS','MICRO EMPRESA',null,null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('SUAREZ MARTINEZ JASON NICOLAY','PERSONA','Baja',null,'JASON','NICOLAY','SUAREZ','MARTINEZ','2019/11/18','2024/04/01','CALLE 19 #13-00',215,'3046499686','3014410473','almavetkinzha@gmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,'ACTIVIDADES VETERINARIAS.- COMERCIO AL POR MENOR DE OTROS ARTICULOS DOMESTICOS EN ESTABLECIMIENTOS ESPECIALIZADOS.','MICRO EMPRESA',null,null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('KINZHA ALMACEN VETERINARIO','PERSONA','Baja',null,null,null,null,null,'2019/11/18','2024/04/01','CALLE 19 #13-00',215,'3046499686',null,null,'M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,'ACTIVIDADES VETERINARIAS.- COMERCIO AL POR MENOR DE OTROS ARTICULOS DOMESTICOS EN ESTABLECIMIENTOS ESPECIALIZADOS COMERCIO AL POR MENOR DE PRODUCTOS FARMACEUTICOS Y MEDICINALES  COSMETICOS Y ARTICULOS DE TOCADOR EN ESTABLECIMIENTOS ESPECIALIZADOS.',null,'SUAREZ MARTINEZ JASON NICOLAY',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('ZOOMEDICA','EMPRESA','Media',null,'ANA','CONSUELO','GONZALEZ','PATI?','2004/05/18','2024/03/06','TRANSVERSAL 11 #23-54',215,'7402191','3107766857','cvzoomedica@yahoo.com.co','M7500 ** Actividades veterinarias',null,null,null,'ACTIVIDADES VETERINARIAS','MICRO EMPRESA','GONZALEZ PATI?O ANA CONSUELO',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('VETHOME TUNJA','EMPRESA','Baja',null,'CRISTIAN','ENRIQUE','IBARRA','CASTELLANOS','2021/02/03','2024/01/17','CARRERA 17 #15-60',215,'3024401475',null,'cristiancastellanos59@hotmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS COMERCIO AL POR MENOR DE OTROS ARTICULOS DOMESTICOS EN ESTABLECIMIENTOS ESPECIALIZADOS','MICRO EMPRESA','IBARRA CASTELLANOS CRISTIAN ENRIQUE',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('ZOOPET.BOUTIQUE VETERINARIA','EMPRESA','Media',null,'NEIDY','PAOLA','ORJUELA','GARCIA','2013/01/18','2024/04/01','CALLE 17 N #12-44 CONJUNTO SANTA BARBARA REAL',215,'3134393486',null,'neidypao_98@hotmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS',null,'NEIDY PAOLA ORJUELA GARCIA',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('CENTRO VETERINARIO DOCTOR DOG TUNJA','EMPRESA','Media',null,'KAROL','YESSENIA','RINCON','MORENO','2014/08/05','2024/03/27','CARRERA 12 #15-53',215,'3208490456',null,'kayerimo@gmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS',null,'RINCON MORENO KAROL YESSENIA',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('VETERINARIA SNOOPY','EMPRESA','Baja',null,'YISETH','DAYANA','VELANDIA','JOYA','2023/01/04','2024/03/27','CALLE 12 #10-17',215,'3158424519',null,'xiomi-16o@hotmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS',null,'VELANDIA JOYA YISETH DAYANA',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('HERNANDEZ GUERRA ANA MARIA','PERSONA','Baja',null,'ANA','MARIA','HERNANDEZ','GUERRA','2003/02/18','2024/03/04','CALLE 12 #10-17',215,'3144926195',null,'yeraldin24990@hotmail.com','M7500 ** Actividades veterinarias','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS','MICRO EMPRESA',null,null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('MERCHAN AVENDA? JOHANNA ALEXANDRA','PERSONA','Baja',null,'JOHANNA','ALEXANDRA','MERCHAN','AVENDA?','2013/12/02','2024/02/06','CARRERA 14 #4-83 SUR',215,'3164751520','3153436948','johamer.ave@hotmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS  VENTA DE PRODUCTOS Y ACCESORIOS PARA MASCOTAS','MICRO EMPRESA',null,null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('VETERINARIA UNIDAD MEDICA TUNJA','EMPRESA','Media',null,null,null,null,null,'2012/04/02','2024/03/27','CARRERA 8A #74B-33 MANZANA B CASA 2',215,'7473542','3007489859','nydiajenithcarrilloc@gmail.com','M7500 ** Actividades veterinarias',null,null,null,'ACTIVIDADES VETERINARIAS',null,'CACERES DE CARRILLO MARIA ALEYDA',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('GRANDES Y CACHORROS','EMPRESA','Baja',null,'nestor',null,'laverde',null,null,null,'CARRERA 4B #6-18',215,null,null,null,null,'G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados',null,'ACTIVIDADES VETERINARIAS',null,'LAVERDE CAMARGO NESTOR',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('PET LAND TUNJA','EMPRESA','Media',null,'LAURA','JOHANA','BECERRA','PARRA','2018/07/11','2024/04/22','CALLE 41B #1-05',215,null,null,null,null,'G4719 ** Comercio al por menor en establecimientos no especializados  con surtido compuesto principalmente por productos diferentes de alimentos (v veres en general)  bebidas (alcoh licas y no alcoh licas) y tabaco','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,'COMERCIO AL POR MENOR DE PRODUCTOS FARMACEUTICOS Y MEDICINALES  COSMETICOS Y ARTICULOS DE TOCADOR EN ESTABLECIMIENTOS ESPECIALIZADOS Y OTRAS ACTIVIDADES DE SERVICIOS PERSONALES N.C.P.',null,'BECERRA PARRA LAURA JOHANA',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('CENTRO ESPECIALIZADO MASKOTAS','EMPRESA','Alta',null,'JORGE','IVAN','LONDO?','VELEZ','2021/09/09','2024/04/01','CALLE 58B CARRERA 1A - 04 E',215,'3006035990','3160403848','cemaskotastunja@gmail.com',null,'G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados','M7210 ** Investigaciones y desarrollo experimental en el campo de las ciencias naturales y la ingenieria',null,'VETERINARIA VENTA DE PRODUCTOS FARMACEUTICOS',null,'JORGE IVAN LONDO?O VELEZ',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('HUES-PET','EMPRESA','Baja',null,'MARIA','JOSE','SANTAMARIA','NARVAEZ','2022/05/02','2024/03/27','CARRERA 2 ESTE #71-58 LOCAL 3 BLOQUE 5',215,null,null,null,null,'G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados',null,null,'ACTIVIDADES VETERINARIAS  GUARDERIA',null,'SANTAMARIA NARVAEZ MARIA JOSE',null);
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('CLINICA VETERINARIA ZOOPLANET S.A.S','EMPRESA','Alta',null,null,null,null,null,'2021/04/21','2024/04/01','CALLE 12 #10-90',215,'3196738249','3202393001','clinicaveterinariazooplanet@gmail.com','M7500 ** Actividades veterinarias','G4773 ** Comercio al por menor de productos farmaceuticos y medicinales  cosmeticos y articulos de tocador en establecimientos especializados','G4759 ** Comercio al por menor de otros articulos domesticos en establecimientos especializados','S9609 ** Otras actividades de servicios personales n.c.p.',null,'MICRO EMPRESA',null,'ALVARADO ALVARADO ESTEBAN NICOLAS');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('PROFESIONALES AL SERVICIO DEL SECTOR AGRICOLA Y GANADERO EU  PROAGROGAN EU','EMPRESA','Baja',null,null,null,null,null,'2008/11/13','2024/03/22','AVENIDA NORTE #45-24',215,'7479217','3195746138','proagrogan.sas@gmail.com','M7500 ** Actividades veterinarias','M7490 ** Otras actividades profesionales  cientificas y tecnicas n.c.p.','A0162 ** Actividades de apoyo a la ganaderia','N8130 ** Actividades de paisajismo y servicios de mantenimiento conexos',null,'MICRO EMPRESA',null,'RODRIGUEZ SAENZ ELVER');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('MASCOTAS DISTRIBUCIONES BOYACA  SAS','EMPRESA','Baja',null,null,null,null,null,'2018/01/23','2024/03/27','CARRERA 9 #12-08',215,'7445651','3143352106','mascotasdistribucionesboyaca@gmail.com','M7500 ** Actividades veterinarias','G4645 ** Comercio al por mayor de productos farmaceuticos  medicinales  cosmeticos y de tocador',null,null,null,'MICRO EMPRESA',null,'BLANCO MURILLO WILLIAM ORLANDO');
INSERT INTO veterinary_clinics (business_name, entity_type, priority, strategy, name_1, name_2, last_name_1, last_name_2, registration_date, renewal_date, vicinity, township, phone_1, phone_2, email, ciiu_1, ciiu_2, ciiu_3, ciiu_4, activity, company_size, owner_name, legal_representative_name) VALUES  ('ASMEVET HOSPITAL VETERINARIO','EMPRESA','Alta',null,null,null,null,null,null,null,'CARRERA 9 # 12-08',215,'313 2079986',null,'asmevethospital@gmail.com',null,null,null,null,null,null,null,null);



SELECT m.id, m.hashcode, m.nombre AS nombre_mascota,  u.name AS nombre_dueño, u.email AS email_dueño FROM mascotas m INNER JOIN users u ON m.id_usuario = u.id;


UPDATE codes SET agreement = 'H&H' WHERE code IN ('NFdBSllRUEtRRFpSWlhSUA', 'NEJVNkQxOTRURVdKOUdYRw');





CREATE TABLE provider (
    id SERIAL PRIMARY KEY,
    provider_type VARCHAR(255) NOT NULL,
    identification_type VARCHAR(255) NOT NULL,
    identification_number VARCHAR(255) NOT NULL,
    full_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    phone VARCHAR(255) NOT NULL,
    address VARCHAR(255) NOT NULL,
    city BIGINT NOT NULL,
    department VARCHAR(255),
    photo_bs64 TEXT,
    pub_photo VARCHAR(255),
    priv_photo VARCHAR(255),
    status BOOLEAN NOT NULL,
    FOREIGN KEY (city) REFERENCES townships(id) ON UPDATE CASCADE ON DELETE CASCADE
);


UPDATE codes SET agreement = 'Premium' WHERE license = 'Pets' AND agreement = 'H&H';
UPDATE codes SET agreement = 'Basic' WHERE license = 'Pets' AND agreement = 'SeguroPeludo';
UPDATE codes SET agreement = 'Free' WHERE license = 'Pets' AND agreement = 'IKE';
UPDATE mascotas SET hashcode = 'VVU0OFAwTFQzSk5YWjBCVA' WHERE id = 49;
UPDATE mascotas SET hashcode = 'VU1KMjhUSlJZR1RWRjQ2Qw' WHERE petid = '5218102024';



UPDATE codes SET agreement = 'Premium' WHERE hashcode IN (SELECT hashcode FROM mascotas where id_usuario IN (22, 39, 5, 7, 34, 23))
UPDATE codes SET status = 'active' WHERE hashcode IN (SELECT hashcode FROM mascotas);


ALTER TABLE	users ADD COLUMN pubname VARCHAR(100) DEFAULT ' ';
ALTER TABLE	users ALTER COLUMN pubname SET NOT NULL;

ALTER TABLE	users ADD COLUMN privname VARCHAR(100) DEFAULT ' ';
ALTER TABLE	users ALTER COLUMN privname SET NOT NULL;

ALTER TABLE	users ADD COLUMN imagebs64 TEXT DEFAULT ' ';
ALTER TABLE	users ALTER COLUMN imagebs64 SET NOT NULL;


ALTER TABLE	pacientes ADD COLUMN imagebs64 TEXT DEFAULT ' ';
ALTER TABLE	pacientes ALTER COLUMN imagebs64 SET NOT NULL;


-----------------------------------------------------------------------------------------------------------------------------




UPDATE codes SET agreement = 'Premium' where hashcode = 'STM3MDFBWFZOMTlSOERCUw';





------------------------------------------------------------------------------------------------------------------------------
Medicamentos


-- Create medications table with additional fields
CREATE TABLE medications (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,                     -- Nombre del medicamento
    description TEXT,                               -- Descripción general del medicamento
    quantity INT NOT NULL,                          -- Cantidad disponible
    dosage VARCHAR(100),                            -- Dosis recomendada (ej: "500mg")
    frequency VARCHAR(100),                         -- Frecuencia de uso (ej: "cada 8 horas")
    manufacturer VARCHAR(255),                      -- Fabricante del medicamento
    expiration_date DATE NOT NULL,                  -- Fecha de vencimiento
    prescription_required BOOLEAN DEFAULT false,    -- Si el medicamento requiere receta
    category VARCHAR(100),                          -- Categoría del medicamento (ej: "Antibiótico")
    administration_method VARCHAR(100),             -- Método de administración (ej: "Oral", "Inyección")
    side_effects TEXT,                              -- Efectos secundarios conocidos
    storage_instructions TEXT,                      -- Instrucciones de almacenamiento (ej: "Mantener refrigerado")
    relative_id INT REFERENCES pacientes(id),        -- Relación con el paciente al que pertenece
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- Fecha de creación del registro
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP  -- Fecha de última actualización
);


-- Create reminders table
CREATE TABLE reminders (
    id SERIAL PRIMARY KEY,
    medication_id INT REFERENCES medications(id),
    reminder_datetime TIMESTAMP NOT NULL,
    message VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


-- Modificar tabla de recordatorios para añadir un campo de estado de notificación
ALTER TABLE reminders
ADD COLUMN notified BOOLEAN DEFAULT false;

